/*!
 * Start Bootstrap - SB Admin 2 v4.0.7 (https://startbootstrap.com/template-overviews/sb-admin-2)
 * Copyright 2013-2020 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

function processNews(a){$(a).find("item").each(function(){for(el=$(this),cats=el.find("category"),isCovid=!1,i=0;i<cats.length;i++)"Covid19"==cats[i].textContent&&(isCovid=!0);isCovid&&(template="<a class='dropdown-item d-flex align-items-center' href='"+el.find("link").text()+"'><div class='mr-3'><div class='icon-circle bg-success'><i class='fas fa-rss text-white'></i></div></div><div><div class='small text-gray-500'>"+el.find("pubDate").text()+"</div>"+el.find("title").text()+"</div></a>",document.getElementById("news").innerHTML+=template)})}var test;maindata={dates:[],deaths:[],confirmed:[],contacts:[],recovered:[],suspects:[]},localdata={date:[],locEnc:[],locSantoIsidoro:[],locEriceira:[],locCarvoeira:[],locAzueira:[],locMafra:[],locCheleiros:[],locGradil:[],locMilharado:[],locMalveira:[],locVenda:[]},growth="";var timeFormat="DD/MM/YYYY";function processLocalData(a){data=convertCSVToJson(a),data.reduce(fillLocalData)}function processMainData(a){data=convertCSVToJson(a),test=data,data.reduce(fillData),document.getElementById("lblConfirmed").innerHTML=maindata.confirmed[maindata.confirmed.length-1],document.getElementById("lblSuspects").innerHTML=maindata.suspects[maindata.suspects.length-1],document.getElementById("lblContacts").innerHTML=maindata.contacts[maindata.contacts.length-1],document.getElementById("lblDeaths").innerHTML=maindata.deaths[maindata.deaths.length-1],document.getElementById("lblRecovered").innerHTML=maindata.recovered[maindata.recovered.length-1],document.getElementById("lblGrowth").innerHTML=parseFloat((maindata.confirmed[maindata.confirmed.length-1]-maindata.confirmed[maindata.confirmed.length-2])/maindata.confirmed[maindata.confirmed.length-2]*100).toFixed(2).toLocaleString()+"%",diffConfirmed=maindata.confirmed[maindata.confirmed.length-1]-maindata.confirmed[maindata.confirmed.length-2],document.getElementById("lblDiffConfirmed").innerHTML=getSignal(diffConfirmed)+diffConfirmed.toLocaleString(),getChevron("iconConfirmed",diffConfirmed,!1),diffDeaths=maindata.deaths[maindata.deaths.length-1]-maindata.deaths[maindata.deaths.length-2],document.getElementById("lblDiffDeath").innerHTML=getSignal(diffDeaths)+diffDeaths.toLocaleString(),getChevron("iconDeath",diffDeaths,!1),diffRecovery=maindata.recovered[maindata.recovered.length-1]-maindata.recovered[maindata.recovered.length-2],document.getElementById("lblDiffRecovery").innerHTML=getSignal(diffRecovery)+diffRecovery.toLocaleString(),getChevron("iconRecovery",diffRecovery,!0),diffSuspect=maindata.suspects[maindata.suspects.length-1]-maindata.suspects[maindata.suspects.length-2],document.getElementById("lblDiffSuspect").innerHTML=getSignal(diffSuspect)+diffSuspect.toLocaleString(),getChevron("iconSuspect",diffSuspect,!1),diffContact=maindata.contacts[maindata.contacts.length-1]-maindata.contacts[maindata.contacts.length-2],document.getElementById("lblDiffContact").innerHTML=getSignal(diffContact)+diffContact.toLocaleString(),getChevron("iconContact",diffContact,!0),diffGrowth=parseFloat((maindata.confirmed[maindata.confirmed.length-1]-maindata.confirmed[maindata.confirmed.length-2])/maindata.confirmed[maindata.confirmed.length-2]*100).toFixed(2)-parseFloat((maindata.confirmed[maindata.confirmed.length-2]-maindata.confirmed[maindata.confirmed.length-3])/maindata.confirmed[maindata.confirmed.length-3]*100).toFixed(2),document.getElementById("lblDiffGrowth").innerHTML=getSignal(diffGrowth)+diffGrowth.toLocaleString()+"%",getChevron("iconGrowth",diffGrowth,!0)}function getChevron(a,t,e){0<t?(document.getElementById(a).classList.add("fa-chevron-up"),e?document.getElementById(a).classList.add("text-success"):document.getElementById(a).classList.add("text-danger")):(e?document.getElementById(a).classList.add("text-danger"):document.getElementById(a).classList.add("text-success"),0==t?document.getElementById(a).classList.add("fa-equals"):t<0&&document.getElementById(a).classList.add("fa-chevron-down"))}function getSignal(a){return 0<a?"+":""}function fillData(a,t){maindata.dates.push(t.date),maindata.deaths.push(t.deaths),maindata.confirmed.push(t.confirmed),maindata.contacts.push(t.contact),maindata.recovered.push(t.recovery),maindata.suspects.push(t.suspect)}function fillLocalData(a,t){localdata.date.push(t.date),localdata.locEnc.push(t.locEnc),localdata.locSantoIsidoro.push(t.locSantoIsidoro),localdata.locEriceira.push(t.locEriceira),localdata.locCarvoeira.push(t.locCarvoeira),localdata.locAzueira.push(t.locAzueira),localdata.locMafra.push(t.locMafra),localdata.locCheleiros.push(t.locCheleiros),localdata.locGradil.push(t.locGradil),localdata.locMilharado.push(t.locMilharado),localdata.locMalveira.push(t.locMalveira),localdata.locVenda.push(t.locVenda)}function convertCSVToJson(a){for(var t=a.split("\n"),e=[],n=t[0].split(","),d=1;d<t.length;d++){for(var i={},o=t[d].split(","),c=0;c<n.length;c++)i[n[c]]=o[c];e.push(i)}return e}